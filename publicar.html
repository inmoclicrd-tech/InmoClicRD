<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Publicar propiedad | InmoClicRD</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* --- ESTILOS RESPONSIVOS PARA M칍VILES --- */

    /* En PC mantenemos el dise침o original */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
    }

    /* En M칍VIL (Pantallas menores a 768px) cambiamos el dise침o */
    @media (max-width: 768px) {
      .publish-page {
        margin: 20px auto !important; /* Menos margen arriba/abajo */
        padding: 0 10px;
      }

      .publish-form {
        padding: 20px 15px !important; /* Relleno interno m치s peque침o */
      }

      .form-grid {
        grid-template-columns: 1fr; /* Una sola columna: todo se apila */
        gap: 15px;
      }

      /* Excepci칩n para habitaciones/ba침os/parqueos:
         Hacemos que se vean 3 en l칤nea peque침a o 2 y 1, para no ocupar tanto verticalmente */
      .grid-3-mobile {
         display: grid;
         grid-template-columns: 1fr 1fr 1fr; /* Forzar 3 columnas peque침as */
         gap: 10px;
      }

      .publish-hero h2 {
        font-size: 1.5rem; /* T칤tulo m치s peque침o */
      }

      .header-content {
        flex-direction: row;
        justify-content: space-between;
      }

      .btn-secondary {
        font-size: 0.8rem;
        padding: 8px 12px;
      }
    }

    /* Ajustes generales de inputs para celular */
    input, select, textarea {
      font-size: 16px !important; /* Evita que el iPhone haga zoom al escribir */
    }
  </style>
</head>
<body>

<header class="header">
  <div class="container header-content" style="display: flex; justify-content: space-between; align-items: center;">
    <h1 class="logo" style="font-size: 1.4rem;">InmoClicRD</h1>
    <a href="index.html" class="btn-secondary">Cancelar</a>
  </div>
</header>

<main class="container publish-page">

  <div id="login-warning" style="display: none; text-align: center; background: #fff3cd; color: #856404; padding: 30px; border-radius: 12px; border: 1px solid #ffeeba; margin-bottom: 30px;">
    <h3 style="margin-bottom: 10px;">游 Debes iniciar sesi칩n</h3>
    <p style="margin-bottom: 20px;">Para publicar una propiedad, necesitas estar registrado e identificado.</p>
    <a href="login.html" class="btn-primary" style="display: inline-block; text-decoration: none; padding: 10px 20px;">
      Ir a Iniciar Sesi칩n / Registrarse
    </a>
  </div>

  <section class="publish-hero" style="margin-bottom: 20px;">
    <h2>Publica tu propiedad gratis</h2>
    <p style="font-size: 0.95rem; color: #666;">
      Llega a personas interesadas y recibe contactos por WhatsApp.
    </p>
  </section>

  <form id="publish-form" class="publish-form" style="display: none;"> <div class="form-section">
      <h3 style="margin-bottom: 15px; color: var(--secondary);">Informaci칩n b치sica</h3>

      <label>
        T칤tulo del anuncio
        <input type="text" id="title" placeholder="Ej: Apartamento en el centro..." required style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd; margin-bottom: 15px;">
      </label>

      <div class="form-grid">
        <label>
          Inmueble
          <select id="type" required style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
            <option value="">Seleccionar</option>
            <option value="Casa">Casa</option>
            <option value="Apartamento">Apartamento</option>
            <option value="Habitacion">Habitacion</option>
            <option value="Local">Local Comercial</option>
          </select>
        </label>

        <label>
          Operaci칩n
          <select id="operation" required style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
            <option value="Alquiler">Alquiler</option>
            <option value="Venta">Venta</option>
          </select>
        </label>

        <label>
          Precio (RD$)
          <input type="number" id="price" placeholder="Ej: 15000" required min="0" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
        </label>
      </div>

      <div class="form-grid" style="margin-top: 15px;">
        <label>
          Provincia
          <select id="province-select" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
            <option value="">Selecciona Provincia</option>
            <option value="Santo Domingo">Santo Domingo</option>
            </select>
        </label>

        <label>
          Municipio / Sector
          <select id="municipality-select" required disabled style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; background-color: #f9f9f9;">
            <option value="">Elige Provincia primero</option>
          </select>
        </label>
      </div>

      <div style="margin-top: 20px;">
          <p style="margin-bottom: 5px; font-weight: bold; font-size: 0.9rem;">Detalles</p>
          <div class="grid-3-mobile">
            <label style="text-align: center;">
              Habitaciones
              <input type="number" id="rooms" min="0" value="1" style="width: 100%; padding: 10px; text-align: center; border-radius: 8px; border: 1px solid #ddd;">
            </label>
            <label style="text-align: center;">
              Ba침os
              <input type="number" id="baths" min="0" value="1" style="width: 100%; padding: 10px; text-align: center; border-radius: 8px; border: 1px solid #ddd;">
            </label>
            <label style="text-align: center;">
              Parqueos
              <input type="number" id="parking" min="0" value="0" style="width: 100%; padding: 10px; text-align: center; border-radius: 8px; border: 1px solid #ddd;">
            </label>
          </div>
      </div>

      <label style="margin-top: 15px; display: block;">
        Descripci칩n
        <textarea id="desc" rows="5" placeholder="Describe tu propiedad, condiciones, cercan칤as, etc." style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;"></textarea>
      </label>
    </div>

    <div class="form-section">
      <h3 style="margin-bottom: 10px; color: var(--secondary);">Fotos</h3>
      <label>Sube las mejores fotos (M칤nimo 1)</label>
      <input type="file" id="prop-images" accept="image/*" multiple required style="margin-top: 5px;">
      <div id="image-preview" style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;"></div>
    </div>

    <div class="form-section">
      <h3 style="margin-bottom: 10px; color: var(--secondary);">Contacto</h3>
      <label>
        N칰mero de WhatsApp
        <input type="tel" id="whatsapp" placeholder="Ej: 18091234567" required style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
      </label>
      <p class="form-hint" style="font-size: 0.8rem; color: #777; margin-top: 5px;">
        Este n칰mero aparecer치 en el bot칩n de contacto.
      </p>
    </div>

    <div class="publish-actions">
      <button type="submit" class="btn-primary btn-large" style="width: 100%; padding: 15px; font-size: 1.1rem; border-radius: 8px; border: none; cursor: pointer;">
        游 Publicar ahora
      </button>
    </div>

  </form>

</main>

<script type="module" src="publicar.js"></script>

</body>
</html>